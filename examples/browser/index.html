<!DOCTYPE html>
<html>
<head>
  <title>Hello AElf</title>
</head>
<body>
<p>Hello AElf.</p>

<script type="text/javascript" src="../../dist/aelf.umd.js"></script>
<script type="text/javascript">
  const AElf = window.AElf;
  const Wallet = AElf.wallet;
  const sha256 = AElf.utils.sha256;

  const {mnemonic, address, privateKey} = AElf.wallet.createNewWallet();
  const walletGotByKey = AElf.wallet.getWalletByPrivateKey(privateKey);
  const walletGotByMn = AElf.wallet.getWalletByMnemonic(mnemonic);
  console.log(address);
  console.log(walletGotByKey);
  console.log(walletGotByMn);

  const defaultPrivateKey = 'bdb3b39ef4cd18c2697a920eb6d9e8c3cf1a930570beb37d04fb52400092c42b';

  const walletCreatedByMethod = Wallet.createNewWallet();
  const wallet = Wallet.getWalletByPrivateKey(defaultPrivateKey);
  const aelf = new AElf(new AElf.providers.HttpProvider(
    'http://18.162.41.20:8000'
  ));

  if(!aelf.isConnected()) {
    alert('Blockchain Node is not running.');
  }

  const tokenContractName = 'AElf.ContractNames.Token';
  const {
    GenesisContractAddress
  } = aelf.chain.getChainStatus({sync: true});
  aelf.chain.contractAt(GenesisContractAddress, wallet).then(zeroC => {
    return zeroC.GetContractAddressByName.call(sha256(tokenContractName));
  }).then(tokenContractAddress => {
    return aelf.chain.contractAt(tokenContractAddress, wallet);
  }).then(tokenContract => {
    return tokenContract.GetTokenInfo.call({
      symbol: 'ELF'
    });
  }).then(res => {
    console.log(res);
    alert(JSON.stringify(res));
  });
</script>
</body>
</html>
